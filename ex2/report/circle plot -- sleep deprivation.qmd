---
title: "Circle Plot: sleep deprivation"
format: pdf
lang: en-GB
fontfamily: "Arial" 
editor: 
  markdown:
      wrap: 62
---

```{r packages}
library(tidyverse)
# loader script
list.files("../data", pattern=".rdata", full.names = T,ignore.case = T) -> files
for(x in files){load(x)}

```

{{< pagebreak >}}


Here I will further investigate the use of circle plot by focusing on a different aspect.<!--- WHICH ASPECT?-->

First, I combine the data probe and the sleep. The data used for this exploration has been downloaded from OSF (https://osf.io/xq6wr/).

```{r start}
# Join diary & data
left_join(sleep_diary |> 
            mutate(subj=as.numeric(subj), 
                   sleepdep = ifelse(pre_control==1, "control",
                              ifelse(pre_sleepdep==1, "SD", NA))),
              #' Add common var
          data.probe,
          by=c("subj", "sleepdep")) -> sleep_and_data
```


```{r start}

sleep_and_data |> 
  filter(!(is.na(sleepdep))) |>
  ggplot(aes(x = sleep_time_cum, y=sleep_duration, col=sleepdep))+
  #ggplot(aes(x = sleep_time_cum))+# y=sleep_duration, col=sleepdep))+
  coord_polar()+
  geom_point(aes(x=12, y=1), alpha=0)+
  stat_summary()+
  geom_line(stat = "smooth")
  stat_summary(geom="line")
  geom_col()

```


```{r start}

```


```{r start}

```




